<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Skin Tattoo Audio App - DÃ¶vme Ses Entegrasyonu</title>
    <link rel="stylesheet" href="style.css">
    <script src="/socket.io/socket.io.js"></script>
</head>
<body>
    <div class="container">
        <header class="header">
            <h1>ğŸµ Skin Tattoo Audio App ğŸ¨</h1>
            <p>DÃ¶vme Ã¼zerinde ses entegrasyonu ve AR deneyimi</p>
        </header>

        <main class="main-content">
            <!-- AdÄ±m 1: Ses YÃ¼kleme -->
            <section class="step-section" id="step1">
                <div class="step-header">
                    <div class="step-number">1</div>
                    <h2>Ses DosyasÄ± YÃ¼kle</h2>
                </div>
                <div class="step-content">
                    <div class="upload-area" id="audioUploadArea">
                        <div class="upload-icon">ğŸµ</div>
                        <p>Ses dosyanÄ±zÄ± buraya sÃ¼rÃ¼kleyin veya tÄ±klayÄ±n</p>
                        <input type="file" id="audioFile" accept="audio/*" style="display: none;">
                        <button class="upload-btn" onclick="document.getElementById('audioFile').click()">
                            Ses DosyasÄ± SeÃ§
                        </button>
                    </div>
                    <div class="file-info" id="audioFileInfo" style="display: none;">
                        <p><strong>SeÃ§ilen dosya:</strong> <span id="audioFileName"></span></p>
                        <button class="upload-submit-btn" onclick="uploadAudio()">Sesi YÃ¼kle ve GÃ¶rselleÅŸtir</button>
                    </div>
                </div>
            </section>

            <!-- AdÄ±m 2: Kalp Ritmi GÃ¶rselleÅŸtirmesi -->
            <section class="step-section" id="step2" style="display: none;">
                <div class="step-header">
                    <div class="step-number">2</div>
                    <h2>Kalp Ritmi Ses DalgasÄ±</h2>
                </div>
                <div class="step-content">
                    <div class="visualization-container">
                        <div id="heartbeatVisualization" style="display: none;"></div>
                        <div class="loading" id="visualizationLoading">
                            <div class="spinner"></div>
                            <p>Kalp ritmi gÃ¶rselleÅŸtirmesi oluÅŸturuluyor...</p>
                        </div>
                    </div>
                    <div class="step-actions">
                        <button class="download-btn" id="downloadBtn" style="display: none;" onclick="downloadVisualization()">
                            ğŸ“¥ GÃ¶rseli Ä°ndir
                        </button>
                        <p class="step-description">
                            Bu gÃ¶rseli mÃ¼ÅŸteriye gÃ¶nderin. MÃ¼ÅŸteri dÃ¶vme olarak Ã§izdikten sonra 
                            fotoÄŸrafÄ±nÄ± yÃ¼kleyecek.
                        </p>
                    </div>
                </div>
            </section>

            <!-- AdÄ±m 3: DÃ¶vme FotoÄŸrafÄ± YÃ¼kleme -->
            <section class="step-section" id="step3" style="display: none;">
                <div class="step-header">
                    <div class="step-number">3</div>
                    <h2>DÃ¶vme FotoÄŸrafÄ± YÃ¼kle</h2>
                </div>
                <div class="step-content">
                    <div class="upload-area" id="tattooUploadArea">
                        <div class="upload-icon">ğŸ“¸</div>
                        <p>Ã‡izilen dÃ¶vmenin fotoÄŸrafÄ±nÄ± buraya yÃ¼kleyin</p>
                        <input type="file" id="tattooFile" accept="image/*" style="display: none;">
                        <button class="upload-btn" onclick="document.getElementById('tattooFile').click()">
                            DÃ¶vme FotoÄŸrafÄ± SeÃ§
                        </button>
                    </div>
                    <div class="file-info" id="tattooFileInfo" style="display: none;">
                        <p><strong>SeÃ§ilen dosya:</strong> <span id="tattooFileName"></span></p>
                        <button class="upload-submit-btn" onclick="uploadTattoo()">DÃ¶vme FotoÄŸrafÄ±nÄ± YÃ¼kle</button>
                    </div>
                </div>
            </section>

            <!-- AdÄ±m 4: Entegrasyon -->
            <section class="step-section" id="step4" style="display: none;">
                <div class="step-header">
                    <div class="step-number">4</div>
                    <h2>Ses ve DÃ¶vme Entegrasyonu</h2>
                </div>
                <div class="step-content">
                    <div class="integration-status">
                        <div class="status-item">
                            <span class="status-icon">ğŸµ</span>
                            <span>Ses dosyasÄ±: <strong id="integratedAudioFile"></strong></span>
                        </div>
                        <div class="status-item">
                            <span class="status-icon">ğŸ¨</span>
                            <span>DÃ¶vme dosyasÄ±: <strong id="integratedTattooFile"></strong></span>
                        </div>
                    </div>
                    <button class="integrate-btn" onclick="integrateAudioWithTattoo()">
                        ğŸ”— Ses ve DÃ¶vme Entegrasyonunu BaÅŸlat
                    </button>
                </div>
            </section>

            <!-- AdÄ±m 5: AR Deneyimi -->
            <section class="step-section" id="step5" style="display: none;">
                <div class="step-header">
                    <div class="step-number">5</div>
                    <h2>AR Deneyimi</h2>
                </div>
                <div class="step-content">
                    <div class="ar-instructions">
                        <h3>ğŸ“± Telefonunuzu DÃ¶vme Ãœzerine Tutun</h3>
                        <p>Kamera dÃ¶vme Ã¼zerine odaklandÄ±ÄŸÄ±nda:</p>
                        <ul>
                            <li>âœ¨ IÅŸÄ±k efekti baÅŸlayacak</li>
                            <li>ğŸµ Ses Ã§almaya baÅŸlayacak</li>
                            <li>ğŸ’« IÅŸÄ±k, sesle birlikte dÃ¶vme Ã§izgileri Ã¼zerinden ilerleyecek</li>
                        </ul>
                    </div>
                    <div class="ar-controls">
                        <button class="ar-btn" onclick="startARExperience()">
                            ğŸš€ AR Deneyimini BaÅŸlat
                        </button>
                        <button class="ar-btn" onclick="stopARExperience()">
                            â¹ï¸ AR Deneyimini Durdur
                        </button>
                    </div>
                    <div class="ar-status" id="arStatus">
                        <p>AR deneyimi hazÄ±r...</p>
                    </div>
                </div>
            </section>
        </main>

        <!-- Progress Bar -->
        <div class="progress-container">
            <div class="progress-bar">
                <div class="progress-fill" id="progressFill"></div>
            </div>
            <div class="progress-text">AdÄ±m <span id="currentStep">1</span> / 5</div>
        </div>
    </div>

    <!-- Notification -->
    <div class="notification" id="notification">
        <span id="notificationMessage"></span>
        <button class="notification-close" onclick="closeNotification()">Ã—</button>
    </div>

    <script src="script.js"></script>
</body>
</html>
